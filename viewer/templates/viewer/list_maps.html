<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
{#    #}
{#    <script src="http://1.2.3.4/bmi-int-js/bmi.js?version=1397636046" language="javascript"></script>#}
{#    #}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="{{ STATIC_URL }}img/cartoview.png"/>

    <title>{{ SITE_NAME }} - Maps</title>
    <link rel="stylesheet" href="{{ STATIC_URL }}vendor/normalize.css">
    <link rel='stylesheet prefetch' href='{{ STATIC_URL }}vendor/angular-material/angular-material.min.css'>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
</head>
<body ng-app="cartoview.mapsListApp">
    <maps-list></maps-list>
    <script type="text/javascript" src='{{ STATIC_URL }}vendor/angular/angular.min.js'></script>
    <script type="text/javascript" src='{{ STATIC_URL }}vendor/angular-animate/angular-animate.min.js'></script>
    <script type="text/javascript" src='{{ STATIC_URL }}vendor/angular-aria/angular-aria.min.js'></script>
    <script type="text/javascript" src='{{ STATIC_URL }}vendor/angular-material/angular-material.min.js'></script>

    <script type="text/javascript">
        var GEOSERVER_BASE_URL = "{{ GEOSERVER_BASE_URL }}";
        var PROXY_URL = "{{ PROXY_URL }}";
        var MEDIA_URL = "{{ MEDIA_URL }}";
        var app = angular.module('cartoview.mapsListApp', ['ngMaterial']);
        app.directive('mapsList',  function() {
            return {
                restrict: 'E',
                transclude: true,
                replace: true,
                templateUrl: "maps-list.html",
                controller: function ($scope){
                    $scope.maps = {{ maps | safe }};
                }
            }
        });
    </script>

    <script type="text/ng-template" id="maps-list.html">

    <div class="maps-list" flex layout="row"  layout-align="center center" layout-wrap>


        <md-button   ng-href="{% url 'viewer.list_maps' %}{% verbatim %}{{ map.id }}{% endverbatim %}/view/" style="width:300px" ng-repeat="map in maps">
            {% verbatim %}
            <md-card>
                <img ng-src="{{ map.thumbnail }}" class="md-card-image" alt="Washed Out">
                <md-card-title>
                    <md-card-title-text>
                        <span class="md-subhead">{{ map.title }}</span>
                    </md-card-title-text>
                </md-card-title>
                <!--
                <md-card-actions layout="row" layout-align="end center">
                    <md-button class="md-icon-button" aria-label="Favorite">
                        <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon>
                    </md-button>
                    <md-button class="md-icon-button" aria-label="Settings">
                        <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
                    </md-button>
                    <md-button class="md-icon-button" aria-label="Share">
                        <md-icon md-svg-icon="img/icons/share-arrow.svg"></md-icon>
                    </md-button>
                </md-card-actions>
                -->
            </md-card>
            {% endverbatim %}
        </md-button>
    </div>

    </script>
</body>
</html>
